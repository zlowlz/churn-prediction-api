# ML Проект: Прогнозирование оттока клиентов банка

Этот проект посвящен разработке end-to-end решения для прогнозирования оттока клиентов банка. На основе данных о клиентах была построена модель машинного обучения, которая определяет вероятность ухода клиента, и упакована в API-сервис с помощью FastAPI и Docker.

**Набор данных:**
Используемый набор данных содержит анонимизированную информацию о 15 000 клиентах банка. Он включает следующие ключевые поля:
- `кредитный_рейтинг`: Кредитный рейтинг клиента
- `город`: Город проживания
- `пол`: Пол клиента
- `возраст`: Возраст клиента
- `стаж_в_банке`: Сколько лет клиент обслуживается в банке
- `баланс_депозита`: Сумма на депозитном счете
- `число_продуктов`: Количество используемых продуктов
- `активный_клиент`: Является ли клиент активным
- `ушел_из_банка`: Факт оттока (1 - ушел, 0 - остался) (целевая переменная)

**Цели:**
- Провести разведочный анализ данных (EDA) для выявления ключевых факторов оттока.
- Разработать и обучить модель бинарной классификации для прогнозирования ухода клиентов.
- Оценить производительность модели с использованием метрик ROC-AUC, Precision и Recall.
- Реализовать модель в виде REST API-сервиса.
- Контейнеризировать финальное решение с помощью Docker.

**Технологии и Библиотеки:**
- Python 3.11
- Jupyter Notebook
- Pandas & NumPy
- Scikit-learn
- XGBoost
- SHAP
- FastAPI & Uvicorn
- Docker

**Установка и Запуск:**

1.  **Клонируйте репозиторий:**
    ```bash
    git clone [https://github.com/zlowlz/churn-prediction-api.git](https://github.com/zlowlz/churn-prediction-api.git)
    cd churn-prediction-api
    ```
2.  **Убедитесь, что Docker запущен:**
    На вашем компьютере должен быть установлен и запущен [Docker](https://www.docker.com/get-started).

3.  **Соберите Docker-образ:**
    ```bash
    docker build -t churn-api .
    ```
4.  **Запустите контейнер:**
    ```bash
    docker run -p 8000:8000 churn-api
    ```
    Сервис будет доступен по адресу `http://127.0.0.1:8000`.

**Результаты и Выводы:**

Обученная модель **Optimized XGBoost** достигла следующих показателей на тестовом наборе данных:
- **ROC-AUC:** 0.9338
- **Recall:** 0.8513
- **F1-score:** 0.7157

Значение **Recall = 0.85** является ключевым для данной бизнес-задачи и указывает на то, что модель способна правильно идентифицировать **85% клиентов**, которые действительно склонны к уходу.

Основными факторами, влияющими на отток, являются **возраст**, **количество используемых продуктов**, **статус активности клиента** и **баланс на счете**.

**Будущие Улучшения:**
- Настройка CI/CD для автоматического развертывания.
- Внедрение системы мониторинга для отслеживания деградации модели (data drift, concept drift).
- Проведение A/B тестов для оценки экономического эффекта от внедрения модели.

**Автор:**
Аккажы Бакытжан - [GitHub](https://github.com/zlowlz) | [LinkedIn](https://www.linkedin.com/in/bakytzhan-akkazhy/)
