Прогнозирование оттока клиентов банка
Привет! Это мой проект по анализу и предсказанию оттока клиентов. Я разработал модель машинного обучения, которая определяет вероятность ухода клиента, и упаковал ее в API-сервис с помощью Docker.

Что внутри проекта?
ML_TZ(BCC).ipynb: Jupyter Notebook, где я провел весь анализ данных, обучил и протестировал несколько моделей.

main.py: FastAPI-сервис, который использует лучшую модель для предсказаний.

churn_xgb_model.joblib: Сохраненная модель XGBoost, готовая к работе.

Dockerfile: Инструкция для сборки Docker-образа.

requirements.txt: Список всех необходимых библиотек.

README.md: Этот файл с инструкцией.

Как запустить проект
Что нужно: Установленный Docker.

Шаг 1: Сборка Docker-образа
Сначала нужно собрать образ. Откройте терминал в папке проекта и выполните:

docker build -t churn-api .

Шаг 2: Запуск контейнера
Когда образ будет готов, запустите контейнер:

docker run -p 8000:8000 churn-api

Сервис запустится внутри контейнера и будет доступен на порту 8000.

Шаг 3: Проверка работы API
Теперь можно отправить тестовый запрос, чтобы проверить, что все работает.

Для macOS/Linux/Git Bash:

curl -X 'POST' \
  'http://127.0.0.1:8000/predict' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
    "кредитный_рейтинг": 650,
    "город": "Алматы",
    "пол": "Male",
    "возраст": 42,
    "стаж_в_банке": 5,
    "баланс_депозита": 120000.0,
    "число_продуктов": 1,
    "есть_кредитка": 1,
    "активный_клиент": 0,
    "оценочная_зарплата": 80000.0,
    "balance_salary_ratio": 1.5,
    "tenure_by_age": 0.119,
    "balance_per_product": 120000.0,
    "is_balance_zero": 0
  }'

Для Windows PowerShell:

$jsonData = @"
{
    "кредитный_рейтинг": 650,
    "город": "Алматы",
    "пол": "Male",
    "возраст": 42,
    "стаж_в_банке": 5,
    "баланс_депозита": 120000.0,
    "число_продуктов": 1,
    "есть_кредитка": 1,
    "активный_клиент": 0,
    "оценочная_зарплата": 80000.0,
    "balance_salary_ratio": 1.5,
    "tenure_by_age": 0.119,
    "balance_per_product": 120000.0,
    "is_balance_zero": 0
}
"@

Invoke-WebRequest -Uri http://127.0.0.1:8000/predict -Method POST -ContentType "application/json; charset=utf-8" -Body $jsonData

Ожидаемый ответ
В ответ должен прийти JSON с предсказанием:

{
  "churn_probability": 0.424,
  "churn_prediction": 0
}

(Значение вероятности может немного отличаться)